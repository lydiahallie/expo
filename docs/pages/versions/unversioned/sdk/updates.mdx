---
title: Updates
description: A library that enables your app to manage remote updates to your application code.
sourceCodeUrl: 'https://github.com/expo/expo/tree/main/packages/expo-updates'
packageName: 'expo-updates'
iconUrl: '/static/images/packages/expo-updates.png'
platforms: ['android', 'ios', 'tvos']
---

import APISection from '~/components/plugins/APISection';
import { APIInstallSection } from '~/components/plugins/InstallSection';
import { YesIcon, NoIcon } from '~/ui/components/DocIcons';
import { Collapsible } from '~/ui/components/Collapsible';
import { BoxLink } from '~/ui/components/BoxLink';
import { GithubIcon } from '@expo/styleguide-icons';

## Installation & Configuration

`expo-updates` is a library that enables your app to manage remote updates to your application code. It communicates with the configured remote update service to get information about available updates.

[EAS Update](/eas-update/introduction) is a hosted service that manages and serves updates, and includes tools to simplify installation and configuration of this library. To get started with EAS Update, follow the [Getting Started Guide](/eas-update/getting-started/).

If you're installing this library in a [bare React Native app](/bare/overview/), follow these [additional installation instructions](/bare/installing-updates/).

It is also possible to configure this library manually in cases where native code is configured manually or use of a different remote update service is required.

<Collapsible summary="Manual installation & configuration">

<APIInstallSection hideBareInstructions={true} />

If you're installing this library in a [bare React Native app](/bare/overview/) or a generic app with manually-configured native code, follow these [installation instructions](/bare/installing-updates/).

If using [app config](/workflow/configuration/) for configuration, this library can be configured by setting at least the following app config keys:
- [`updates.url`](/versions/latest/config/app/#updates) - a URL of a remote service implementing the [Expo Updates protocol](/technical-specs/expo-updates-1/)
- [`runtimeVersion`](/versions/latest/config/app/#runtimeversion) - a [runtime version](/eas-update/runtime-versions/)

The remote service must implement the [Expo Updates protocol](/technical-specs/expo-updates-1/). [EAS Update](/eas-update/introduction) implements this protocol for you, but it is also possible to use this library with a custom server.

<BoxLink
  title="Custom Expo Updates Server"
  description="Example implementation of a custom server and an app using that server"
  href="https://github.com/expo/custom-expo-updates-server"
  Icon={GithubIcon}
/>

</Collapsible>

### Additional configuration options

These are build-time configuration options that control the behavior of the library. For most apps, these configuration values can be set in the [app config](/workflow/configuration/) using the [`updates` key](/versions/latest/config/app/#updates).

For apps that do configuration in native projects or that wish to override configuration from native code, you can also configure in native.

<Collapsible summary="Native configuration instructions">

On Android, these options are set as `meta-data` tags in the **AndroidManifest.xml** file (adjacent to the tags added during installation if auto-setup was used). You can also set or override them at runtime using `UpdatesController.overrideConfiguration()`.

On iOS, these properties are set as keys in the **Expo.plist** file. You can also set or override them at runtime by calling `AppController.overrideConfiguration`.

<Collapsible summary="Importing Swift generated headers for use in Objective-C++">

If your iOS native code or `AppDelegate.mm` is written in Objective-C++, you will need to add the following imports in order to reference methods on `EXUpdatesAppController`. This is only necessary for runtime configuration overriding.

```objc
#import "ExpoModulesCore-Swift.h"
#import "EXUpdatesInterface-Swift.h"
#import "EXUpdates-Swift.h"
```

</Collapsible>

</Collapsible>

| [App Config key](/versions/latest/config/app/#updates)                   | Default  | Required?   | iOS plist/dictionary key          | Android meta-data name                                           | Android Map key          |
|----------------------------------|----------|-------------|-----------------------------------|------------------------------------------------------------------|--------------------------|
| `updates.enabled`                | `true`   | <NoIcon />  | `EXUpdatesEnabled`                | `expo.modules.updates.ENABLED`                                   | `enabled`                |
| `updates.url`                    | (none)   | <YesIcon /> | `EXUpdatesURL`                    | `expo.modules.updates.EXPO_UPDATE_URL`                           | `updateUrl`              |
| `updates.requestHeaders`         | (none)   | <NoIcon />  | `EXUpdatesRequestHeaders`         | `expo.modules.updates.UPDATES_CONFIGURATION_REQUEST_HEADERS_KEY` | `requestHeaders`         |
| `runtimeVersion`                 | (none)   | <YesIcon /> | `EXUpdatesRuntimeVersion`         | `expo.modules.updates.EXPO_RUNTIME_VERSION`                      | `runtimeVersion`         |
| `updates.checkAutomatically`     | `ALWAYS` | <NoIcon />  | `EXUpdatesCheckOnLaunch`          | `expo.modules.updates.EXPO_UPDATES_CHECK_ON_LAUNCH`              | `checkOnLaunch`          |
| `updates.fallbackToCacheTimeout` | `0`      | <NoIcon />  | `EXUpdatesLaunchWaitMs`           | `expo.modules.updates.EXPO_UPDATES_LAUNCH_WAIT_MS`               | `launchWaitMs`           |
| `updates.codeSigningCertificate` | (none)   | <NoIcon />  | `EXUpdatesCodeSigningCertificate` | `expo.modules.updates.CODE_SIGNING_CERTIFICATE`                  | `codeSigningCertificate` |
| `updates.codeSigningMetadata`    | (none)   | <NoIcon />  | `EXUpdatesCodeSigningMetadata`    | `expo.modules.updates.CODE_SIGNING_METADATA`                     | `codeSigningMetadata`    |

## Usage

By default, the library will check for updates on app startup. If an update is available, it will download the update and apply it the next time the app is restarted. You can tune this startup behavior using the `checkAutomatically` and `fallbackToCacheTimeout` configuration options.

The library also provides a variety of constants to inspect the current update and functions to customize update behavior from your application code (after startup). For example, one common alternate usage pattern is to manually check for updates after the app has started instead of doing the default check at startup.

<Collapsible summary="Example: Check for updates manually">

Checking for updates manually can be accomplished by doing the following:
1. Setting the `checkAutomatically` configuration to `ON_ERROR_RECOVERY` or `NEVER` to disable the library default startup behavior
2. Adding the following code to check for available updates, download them, and reload

    ```jsx App.js
    import { View, Button } from 'react-native';
    import * as Updates from 'expo-updates';

    function App() {
      async function onFetchUpdateAsync() {
        try {
          const update = await Updates.checkForUpdateAsync();

          if (update.isAvailable) {
            await Updates.fetchUpdateAsync();
            await Updates.reloadAsync();
          }
        } catch (error) {
          // You can also add an alert() to see the error message in case of an error when fetching updates.
          alert(`Error fetching latest Expo update: ${error}`);
        }
      }

      return (
        <View>
          <Button title="Fetch update" onPress={onFetchUpdateAsync} />
        </View>
      );
    }
    ```

</Collapsible>

## Testing

Most of the methods and constants in this module can only be used or tested in release builds. In debug builds, the default behavior is to always load the latest JavaScript from a development server. It is possible to [build a debug version of your app with the same updates behavior as a release build](/eas-update/debug-advanced/#debugging-of-native-code-while-loading-the-app-through-expo-updates). Such an app will not open the latest JavaScript from your development server &mdash; it will load published updates just as a release build does. This may be useful for debugging the behavior of your app when it is not connected to a development server.

**To test the content of an update in a dev-client build**, run [`eas update`](/eas-update/introduction) and then browse to the update in your dev-client build. Note that this only simulates what an update will look like in your app, and most of the [Updates API](#api) is unavailable when running in a dev-client build.

**To test updates in a release build**, you can create a [**.apk**](/build-reference/apk) or a [simulator build](/build-reference/simulators), or make a release build locally with `npx expo run:android --variant release` and `npx expo run:ios --configuration Release` (you don't need to submit this build to the store to test). The full [Updates API](#api) is available in a release build.

**To test the content of an update in Expo Go**, run [`eas update`](/eas-update/introduction) and then browse to the update in Expo Go. Note that this only simulates what an update will look like in your app, and most of the [Updates API](#api) is unavailable when running in Expo Go. Also note that only updates using [use Expo Go compatible libraries](/workflow/using-libraries/#determining-third-party-library-compatibility) are supported.

## API

```js
import * as Updates from 'expo-updates';
```

<APISection packageName="expo-updates" apiName="Updates" />

## Error codes

| Code                              | Description                                                                                                                                                                                                                                                   |
|-----------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `ERR_UPDATES_DISABLED`            | A method call was attempted when the Updates module was disabled, or the application was running in development mode                                                                                                                                          |
| `ERR_UPDATES_RELOAD`              | An error occurred when trying to reload the application and it could not be reloaded. For bare workflow apps, double check the setup steps for this module to ensure it has been installed correctly and the proper native initialization methods are called. |
| `ERR_UPDATES_CHECK`               | An unexpected error occurred when trying to check for new updates. Check the error message for more information.                                                                                                                                              |
| `ERR_UPDATES_FETCH`               | An unexpected error occurred when trying to fetch a new update. Check the error message for more information.                                                                                                                                                 |
| `ERR_UPDATES_READ_LOGS`           | An unexpected error occurred when trying to read log entries. Check the error message for more information.                                                                                                                                                   |
| `ERR_NOT_AVAILABLE_IN_DEV_CLIENT` | A method is not available when running in a development client. To test this method a release build should be used.                                                                                                                                           |
